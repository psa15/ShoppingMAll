<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.psamall.mapper.MemberMapper">

	<!-- 회원가입 정보 저장 -->
	<insert id="join">
		INSERT INTO TBL_MEMBER(M_ID, M_NAME, M_PASSWD, M_POSTNUM, M_ADDR, 
							M_ADDR_D, M_TEL, M_EMAIL, M_EMAIL_ACCEPT)
							
		VALUES(#{m_id}, #{m_name}, #{m_passwd}, #{m_postnum}, #{m_addr}, 
				#{m_addr_d}, #{m_tel}, #{m_email}, #{m_email_accept})
	</insert>
	
	<!-- id 존재 여부 확인 -> 중복확인 -->
	<select id="idCheck" resultType="String">
		
		SELECT M_ID
		FROM TBL_MEMBER
		WHERE M_ID = #{m_id}
		
	</select>
	
	<!-- 로그인 정보 인증 작업 -->
	<select id="login_ok" resultType="com.psamall.domain.MemberVO">
		
		SELECT M_ID, M_NAME, M_PASSWD, M_POSTNUM, M_ADDR, 
				M_ADDR_D, M_TEL, M_EMAIL, M_EMAIL_ACCEPT, M_POINT, 
				M_REGDATE, M_UPDATEDATE, M_LASTDATE, M_AUTHCODE
		FROM TBL_MEMBER
		WHERE M_ID = #{m_id}
		
	</select>

</mapper>