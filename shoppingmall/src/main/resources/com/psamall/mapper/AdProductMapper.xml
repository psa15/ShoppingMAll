<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.psamall.mapper.AdProductMapper">

	<!-- 1차 카테고리 불러오기 -->
	<select id="firstCateList" resultType="com.psamall.domain.CatetgoryVO">
	
		SELECT
			Ct_CODE, CT_P_CODE, CT_NAME
		FROM
			TBL_CATEGORY
		WHERE
			CT_P_CODE is NULL
			
	</select>
	
	<!-- 2차 카테고리 불러오기 -->
	<select id="secondCateList" resultType="com.psamall.domain.CatetgoryVO">
	
	SELECT
			Ct_CODE, CT_P_CODE, CT_NAME
		FROM
			TBL_CATEGORY
		WHERE
			CT_P_CODE = #{firstCategoryCode}
	
	</select>
	
	
	<!-- 상품등록 폼의 정보 저장 -->
	<insert id="insertProduct">
	
		INSERT INTO 
			TBL_PRODUCT(P_NUM, F_CT_CODE, S_CT_CODE, P_NAME, P_COST, P_DISCOUNT,
						 P_COMPANY, P_IMAGE, P_AMOUNT, P_DETAIL, P_IMAGE_FOLDER)
						 
		VALUES(SEQ_PRODUCT.nextval, #{f_ct_code}, #{s_ct_code}, #{p_name}, #{p_cost}, #{p_discount}, 
				#{p_company}, #{p_image}, #{p_amount}, #{p_detail}, #{p_image_folder})
	
	</insert>
</mapper>